<!DOCTYPE html>
<html lang="en" class="light scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SHL Assessment Recommendation Engine{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <!-- Add preload for critical resources -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" as="style">
</head>
<body class="flex flex-col min-h-screen transition-colors duration-500 
    bg-gradient-to-br from-gray-50 via-indigo-50/20 to-violet-50/30 
    dark:from-gray-900 dark:via-indigo-950/20 dark:to-violet-950/30 
    text-gray-800 dark:text-gray-100 pattern-grid-lg pattern-gray-200 pattern-opacity-5 
    dark:pattern-gray-700 dark:pattern-opacity-5 pattern-size-4">
    <!-- Loading Overlay - for smoother transitions -->
    <div id="loading-overlay" class="fixed inset-0 bg-white dark:bg-gray-900 z-50 flex items-center justify-center transition-opacity duration-500">
        <div class="flex flex-col items-center">
            <div class="relative w-16 h-16">
                <div class="absolute inset-0 border-4 border-t-primary-500 dark:border-t-primary-400 border-transparent rounded-full animate-spin"></div>
                <div class="absolute inset-1 border-4 border-t-accent-500 dark:border-t-accent-400 border-transparent rounded-full animate-spin" style="animation-direction: reverse; animation-duration: 1.5s;"></div>
            </div>
            <p class="mt-4 text-primary-600 dark:text-primary-400 font-medium">Loading...</p>
        </div>
    </div>
    
    <!-- Creative Header with Enhanced Animation -->
    <header class="bg-gradient-to-r from-primary-600 via-vibrant-purple to-accent-600 dark:from-primary-800 dark:via-vibrant-purple-dark dark:to-accent-800 text-white py-6 relative overflow-hidden shadow-lg z-10">
        <!-- Animated background elements with better visual appeal -->
        <div class="absolute inset-0 overflow-hidden opacity-20">
            <!-- Enhanced geometric patterns for visual interest -->
            <div class="absolute w-40 h-40 bg-white rounded-full mix-blend-overlay animate-pulse-slow" style="left: 5%; top: 20%;"></div>
            <div class="absolute w-32 h-32 bg-accent-400 rounded-full mix-blend-overlay animate-pulse-slow" style="left: 25%; top: -10%; animation-delay: 1s;"></div>
            <div class="absolute w-24 h-24 bg-primary-300 rounded-full mix-blend-overlay animate-pulse-slow" style="left: 60%; top: 50%; animation-delay: 2s;"></div>
            <div class="absolute w-36 h-36 bg-vibrant-purple rounded-full mix-blend-overlay animate-pulse-slow" style="left: 80%; top: 30%; animation-delay: 3s;"></div>
            
            <!-- Improved abstract shapes with animated paths -->
            <svg class="absolute right-0 top-0 h-full opacity-10" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <path class="animate-float" fill="#FFFFFF" d="M47.4,-51.2C59.2,-35.3,65.2,-17.6,63.8,-1.4C62.5,14.8,53.7,29.7,41.9,42.8C30.1,55.9,15,67.3,-1.6,68.9C-18.2,70.6,-36.4,62.5,-48.9,49.4C-61.5,36.3,-68.4,18.2,-67.1,1.3C-65.8,-15.6,-56.3,-31.2,-43.7,-47.1C-31.1,-63,-15.6,-79.2,1,-80.2C17.6,-81.2,35.3,-67.1,47.4,-51.2Z" transform="translate(100 100)" />
            </svg>
            
            <!-- Dynamic wave animation at the bottom with improved contrast -->
            <div class="absolute bottom-0 left-0 right-0 h-8 overflow-hidden">
                <svg class="absolute bottom-0 w-full" viewBox="0 0 1440 100" xmlns="http://www.w3.org/2000/svg">
                    <path class="text-white/20 fill-current" d="M0,50 C180,80 360,10 540,40 C720,70 900,30 1080,40 C1260,50 1440,60 1440,60 V100 H0 Z" />
                </svg>
            </div>
        </div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="bg-white/20 backdrop-blur-sm dark:bg-primary-200 text-white dark:text-primary-900 p-3 rounded-lg shadow-lg transform transition-all hover:scale-110 hover:rotate-6 duration-300 group cursor-pointer border border-white/30">
                        <i class="ri-bar-chart-grouped-fill text-2xl group-hover:text-white dark:group-hover:text-accent-700 transition-colors"></i>
                    </div>
                    <h1 class="text-2xl md:text-3xl font-bold tracking-tight">
                        <span class="bg-clip-text text-transparent bg-gradient-to-r from-white to-primary-100 dark:from-white dark:to-primary-200 relative group">
                            SHL Assessment Recommender
                            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-white group-hover:w-full transition-all duration-300 rounded-full"></span>
                        </span>
                    </h1>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Enhanced dark mode toggle with improved animation -->
                    <button id="darkModeToggle" aria-label="Toggle dark mode" class="flex items-center justify-center w-12 h-12 rounded-full bg-white/15 hover:bg-white/25 transition-all duration-300 backdrop-blur-sm shadow-lg hover:shadow-glow dark:hover:shadow-dark-glow transform hover:scale-105 relative overflow-hidden group">
                        <div class="absolute inset-0 bg-gradient-to-br from-primary-500/20 to-accent-500/20 dark:from-primary-700/20 dark:to-accent-700/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        <div class="relative z-10 w-6 h-6 flex items-center justify-center transition-all duration-500">
                            <i class="ri-sun-line dark:hidden text-xl absolute inset-0 flex items-center justify-center transition-transform duration-500"></i>
                            <i class="ri-moon-line hidden dark:flex text-xl absolute inset-0 items-center justify-center transition-transform duration-500"></i>
                        </div>
                    </button>
                    <nav>
                        <a href="{{ url_for('main.index') }}" class="text-white hover:text-primary-200 dark:hover:text-primary-200 font-medium px-4 py-2 rounded-lg hover:bg-white/10 transition-all relative overflow-hidden group">
                            <span class="relative z-10 flex items-center">
                                <i class="ri-home-4-line mr-1.5 group-hover:rotate-12 transition-transform"></i> 
                                Home
                            </span>
                            <div class="absolute inset-0 bg-white/0 group-hover:bg-white/10 transition-colors duration-300"></div>
                        </a>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 relative">
        <!-- Enhanced dynamic background pattern -->
        <div class="absolute inset-0 pointer-events-none">
            <div class="absolute w-full h-full bg-[radial-gradient(#6366f1_1px,transparent_1px)] dark:bg-[radial-gradient(#4338ca_1px,transparent_1px)] opacity-5 [background-size:16px_16px] -z-10"></div>
            
            <!-- Decorative blobs with enhanced colors -->
            <div class="absolute top-1/4 -left-10 w-64 h-64 bg-gradient-to-br from-primary-200/30 to-vibrant-blue/20 dark:from-primary-900/20 dark:to-vibrant-blue-dark/20 rounded-full blur-3xl -z-10"></div>
            <div class="absolute bottom-1/3 -right-10 w-80 h-80 bg-gradient-to-br from-accent-200/30 to-vibrant-pink/20 dark:from-accent-900/20 dark:to-vibrant-pink-dark/20 rounded-full blur-3xl -z-10"></div>
        </div>
        
        <!-- Toast notification container -->
        <div id="toast-container" class="fixed top-4 right-4 z-50 flex flex-col gap-2"></div>
        
        {% block content %}{% endblock %}
    </main>

    <!-- Enhanced footer with more visual interest and premium feel -->
    <footer class="bg-gradient-to-b from-gray-50/90 to-indigo-50/70 dark:from-gray-900/90 dark:to-indigo-950/70 py-10 mt-12 border-t border-indigo-100/50 dark:border-primary-900/30 relative overflow-hidden backdrop-blur-sm">
        <!-- Subtle background elements with improved contrast -->
        <div class="absolute inset-0 overflow-hidden opacity-10 dark:opacity-15 pointer-events-none">
            <div class="absolute bottom-0 right-0 w-96 h-96 bg-primary-600 dark:bg-primary-400 rounded-full" style="bottom: -60%; right: -20%;"></div>
            <div class="absolute bottom-0 left-0 w-80 h-80 bg-accent-600 dark:bg-accent-400 rounded-full" style="bottom: -50%; left: -10%;"></div>
            
            <!-- Abstract shapes with slight animation and improved colors -->
            <svg class="absolute left-1/4 bottom-0 h-32 w-32 opacity-20 text-primary-500 dark:text-primary-400 animate-float" style="animation-duration: 10s;" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="40" fill="currentColor" />
            </svg>
            <svg class="absolute right-1/4 bottom-10 h-24 w-24 opacity-20 text-accent-500 dark:text-accent-400 animate-float" style="animation-duration: 12s; animation-delay: 2s;" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <rect x="20" y="20" width="60" height="60" fill="currentColor" />
            </svg>
        </div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <a href="{{ url_for('main.index') }}" class="flex items-center justify-center md:justify-start mb-4 group">
                        <div class="bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-400 p-2 rounded-lg mr-2 group-hover:scale-110 transition-transform shadow-sm border border-primary-200/50 dark:border-primary-800/50">
                            <i class="ri-bar-chart-grouped-fill text-xl"></i>
                        </div>
                        <span class="text-primary-700 dark:text-primary-300 font-medium text-lg">SHL Recommender</span>
                    </a>
                    <p class="text-primary-700 dark:text-primary-300 font-medium">&copy; 2025 SHL Assessment Recommendation Engine</p>
                    <p class="text-gray-500 dark:text-gray-400 text-xs mt-1">Made with 
                        <span class="inline-block animate-pulse text-red-500 dark:text-red-400">❤</span> 
                        by GD
                    </p>
                </div>
                
                <div class="flex flex-col items-center md:items-end gap-4">
                    <div class="flex space-x-4">
                        <a href="#" class="text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-all hover:scale-110 p-2 bg-primary-50/70 dark:bg-primary-900/50 rounded-full shadow-sm border border-primary-100/50 dark:border-primary-800/50">
                            <i class="ri-linkedin-box-fill text-xl"></i>
                        </a>
                        <a href="#" class="text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-all hover:scale-110 p-2 bg-primary-50/70 dark:bg-primary-900/50 rounded-full shadow-sm border border-primary-100/50 dark:border-primary-800/50">
                            <i class="ri-twitter-fill text-xl"></i>
                        </a>
                        <a href="#" class="text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-all hover:scale-110 p-2 bg-primary-50/70 dark:bg-primary-900/50 rounded-full shadow-sm border border-primary-100/50 dark:border-primary-800/50">
                            <i class="ri-facebook-box-fill text-xl"></i>
                        </a>
                    </div>
                    <button id="scrollToTop" class="flex items-center gap-2 py-2 px-3 bg-primary-100/70 hover:bg-primary-200/70 dark:bg-primary-900/50 dark:hover:bg-primary-800/50 text-primary-700 dark:text-primary-300 rounded-lg transition-all hover:-translate-y-1 group text-sm shadow-sm border border-primary-200/50 dark:border-primary-800/50">
                        <i class="ri-arrow-up-line group-hover:-translate-y-1 transition-transform"></i>
                        Back to Top
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Accessibility Shortcut Menu -->
    <button id="accessibilityMenuBtn" class="fixed bottom-4 left-4 z-40 p-3 bg-primary-500 dark:bg-primary-600 text-white rounded-full shadow-lg hover:scale-110 transition-transform" aria-label="Accessibility Options">
        <i class="ri-service-fill text-xl"></i>
    </button>
    <div id="accessibilityMenu" class="hidden fixed bottom-16 left-4 z-40 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl w-64 transition-all">
        <h3 class="text-primary-700 dark:text-primary-300 font-bold mb-3 flex items-center"><i class="ri-settings-3-line mr-2"></i>Accessibility</h3>
        <div class="space-y-3">
            <div class="flex justify-between items-center">
                <label for="fontSizeToggle" class="text-sm text-gray-700 dark:text-gray-300">Larger Text</label>
                <button id="fontSizeToggle" class="w-12 h-6 bg-gray-300 dark:bg-gray-700 rounded-full relative transition-colors focus:outline-none">
                    <span class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform"></span>
                </button>
            </div>
            <div class="flex justify-between items-center">
                <label for="highContrastToggle" class="text-sm text-gray-700 dark:text-gray-300">High Contrast</label>
                <button id="highContrastToggle" class="w-12 h-6 bg-gray-300 dark:bg-gray-700 rounded-full relative transition-colors focus:outline-none">
                    <span class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform"></span>
                </button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    {% block scripts %}{% endblock %}
    
    <script>
        // Loading overlay
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('loading-overlay').style.opacity = '0';
                setTimeout(function() {
                    document.getElementById('loading-overlay').style.display = 'none';
                }, 500);
            }, 300); // Short delay for visual effect
        });
        
        // Scroll to top functionality
        document.getElementById('scrollToTop').addEventListener('click', function() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        });
        
        // Accessibility menu toggle
        document.getElementById('accessibilityMenuBtn').addEventListener('click', function() {
            const menu = document.getElementById('accessibilityMenu');
            menu.classList.toggle('hidden');
        });
        
        // Font size toggle
        document.getElementById('fontSizeToggle').addEventListener('click', function() {
            this.classList.toggle('bg-primary-500');
            this.classList.toggle('dark:bg-primary-500');
            this.querySelector('.toggle-dot').classList.toggle('translate-x-6');
            document.documentElement.classList.toggle('text-lg');
        });
        
        // High contrast toggle
        document.getElementById('highContrastToggle').addEventListener('click', function() {
            this.classList.toggle('bg-primary-500');
            this.classList.toggle('dark:bg-primary-500');
            this.querySelector('.toggle-dot').classList.toggle('translate-x-6');
            document.documentElement.classList.toggle('high-contrast');
        });
        
        // Toast notification system
        window.showToast = function(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `flex items-center gap-2 py-2 px-4 rounded-lg shadow-lg transform translate-x-full transition-all duration-300 ${
                type === 'success' ? 'bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300' :
                type === 'error' ? 'bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300' :
                type === 'info' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300' :
                'bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300'
            }`;
            
            const icon = type === 'success' ? 'ri-check-line' :
                        type === 'error' ? 'ri-error-warning-line' :
                        type === 'info' ? 'ri-information-line' : 'ri-alert-line';
                        
            toast.innerHTML = `<i class="${icon}"></i>${message}<button class="ml-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"><i class="ri-close-line"></i></button>`;
            
            document.getElementById('toast-container').appendChild(toast);
            
            // Trigger animation after a small delay
            setTimeout(() => toast.classList.remove('translate-x-full'), 10);
            
            // Auto dismiss after 5 seconds
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                setTimeout(() => toast.remove(), 300);
            }, 5000);
            
            // Close button
            toast.querySelector('button').addEventListener('click', () => {
                toast.classList.add('translate-x-full');
                setTimeout(() => toast.remove(), 300);
            });
        };
    </script>
</body>
</html>